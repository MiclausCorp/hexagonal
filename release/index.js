const imgInput=document.getElementById("input"),canvas=document.getElementById("canvas"),canvasContext=canvas.getContext("2d"),fileChosen=document.getElementById("file-chosen"),hexagonMask=new Image;hexagonMask.src="mask.PNG";const demoImage=new Image;async function download(){const e=await canvas.toDataURL("image/png",1).replace("image/png","image/octet-stream"),n=document.createElement("a");"Upload Image"===fileChosen.textContent?n.download="avatar-hexagon.png":n.download=`${fileChosen.textContent}-hexagon.png`,n.href=e,n.click()}demoImage.src="demo.PNG",window.onload=function(){document.getElementById("year").innerHTML=`${(new Date).getFullYear()}`,canvasContext.drawImage(demoImage,0,0,400,400)},imgInput.addEventListener("change",function(e){if(e.target.files){let a=e.target.files[0];fileChosen.textContent=a.name;var n=new FileReader;n.readAsDataURL(a),n.onloadend=function(e){var n=new Image;n.src=e.target.result,n.onload=function(){canvasContext.drawImage(hexagonMask,0,0),canvasContext.globalCompositeOperation="source-in",canvasContext.drawImage(n,0,0,400,400)}}}});